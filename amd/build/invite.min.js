define("mod_topomojo/invite",["jquery","core/config","core/log","core/modal_factory"],(function($,config,log,ModalFactory){var eventId;return{init:function(info){eventId=info.id;var copyButton=document.getElementById("copy_invite");copyButton&&(copyButton.onclick=function(){var text=document.getElementById("invitationlinkurl").textContent;navigator.clipboard.writeText(text).then((function(){ModalFactory.create({type:ModalFactory.types.ALERT,title:"Invitation Link Copied",body:text,removeOnClose:!0}).then((function(modal){return modal.show(),modal})).fail((function(err){log.debug(err)}))})).catch((function(err){log.debug("Could not copy text: ",err)}))});var generateButton=document.getElementById("generate_invite");generateButton&&(generateButton.onclick=function(){$.ajax({url:config.wwwroot+"/mod/topomojo/generateinvite.php",type:"POST",data:{sesskey:config.sesskey,id:eventId},headers:{"Cache-Control":"no-cache",Expires:"-1"},success:function(result){document.getElementById("invitationlinkurl").innerText=result.invitelinkurl,document.getElementById("copy_invite").style.display="inline"},error:function(request){log.debug("moodle-mod_topomojo-generate_invite: "+request)}})})}}}));

//# sourceMappingURL=invite.min.js.map