define("mod_topomojo/invite",["jquery","core/config","core/log","core/modal"],(function($,config,log,Modal){var eventId;return{init:function(info){eventId=info.id;var copyButton=document.getElementById("copy_invite");copyButton&&(copyButton.onclick=function(){var textElement=document.getElementById("invitationlinkurl"),text=(null==textElement?void 0:textElement.innerText)||(null==textElement?void 0:textElement.textContent)||(null==textElement?void 0:textElement.value)||"",tempInput=document.createElement("input");tempInput.style.position="absolute",tempInput.style.left="-9999px",tempInput.value=text,document.body.appendChild(tempInput),tempInput.select();try{var successful=document.execCommand("copy");document.body.removeChild(tempInput),Modal.create({title:successful?"Invitation Link Copied to Clipboard":"Please Copy Invitation Link",body:text,removeOnClose:!0,show:!0}).catch((function(err){log.debug(err)}))}catch(err){document.body.removeChild(tempInput),log.debug("Clipboard copy failed:",err),Modal.create({title:"Please Copy Invitation Link",body:text,removeOnClose:!0,show:!0}).catch((function(err){log.debug(err)}))}});var generateButton=document.getElementById("generate_invite");generateButton&&(generateButton.onclick=function(){$.ajax({url:config.wwwroot+"/mod/topomojo/generateinvite.php",type:"POST",data:{sesskey:config.sesskey,id:eventId},headers:{"Cache-Control":"no-cache",Expires:"-1"},success:function(result){document.getElementById("invitationlinkurl").innerText=result.invitelinkurl,document.getElementById("copy_invite").style.display="inline"},error:function(request){log.debug("moodle-mod_topomojo-generate_invite: "+request)}})})}}}));

//# sourceMappingURL=invite.min.js.map