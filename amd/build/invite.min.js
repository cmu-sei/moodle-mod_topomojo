define("mod_topomojo/invite",["jquery","core/config","core/log"],(function($,config,log){var event_id;return{init:function(info){var button;event_id=info.id,(button=document.getElementById("copy_invite"))&&(console.log("found button with id copy_invite"),button.onclick=function(){document.getElementById("invitationlinkurl");var text=document.getElementById("invitationlinkurl").textContent;console.log("link text is".text),navigator.clipboard.writeText(text).then((function(){console.log("Copied to clipboard: ".text)}),(function(err){console.error("Could not copy text: ",err)}))}),(button=document.getElementById("generate_invite"))&&(console.log("found button with id generate_invite"),button.onclick=function(){$.ajax({url:config.wwwroot+"/mod/topomojo/generateinvite.php",type:"POST",data:{sesskey:config.sesskey,id:event_id},headers:{"Cache-Control":"no-cache",Expires:"-1"},success:function(result){console.log("generate_invite success"),console.log(result),document.getElementById("invitationlinkurl").innerText=result.invitelinkurl,document.getElementById("copy_invite").style.display="inline"},error:function(request){console.log("generate_invite request failed"),alert("generate_invite request failed"),console.log(request),log.debug("moodle-mod_topomojo-generate_invite: ".request)}})})}}}));

//# sourceMappingURL=invite.min.js.map