define("mod_topomojo/clock",["jquery","core/config","core/log"],(function($,config,log){var eventid;return{init:function(endtime,id){eventid=id;var button=document.getElementById("extend-event");button?(button.onclick=function(){$.ajax({url:config.wwwroot+"/mod/topomojo/extendevent.php",type:"POST",data:{sesskey:config.sesskey,id:eventid},headers:{"Cache-Control":"no-cache",Expires:"-1"},success:function(result){console.log("extended lab"),console.log(result),window.location.replace(window.location.href)},error:function(request){console.log("extend-event request failed"),alert("extend-event request failed"),console.log(request),log.debug("moodle-mod_topomojo-extend-event: ".request)}})},console.log("set event for extend-event button")):console.log("missing extgend event button"),setInterval((function(){var timenow=Math.round((new Date).getTime()/1e3);if(endtime-timenow<=0){var timer=document.getElementById("timer");timer&&(timer.innerHTML="Your time has expired",timer.className="alert alert-danger")}}),1e3)},countdown:function(endtime){setInterval((function(){var timenow=Math.round((new Date).getTime()/1e3),remaining=endtime-timenow;if(!(remaining<=0)){var hours=Math.floor(remaining%86400/3600),minutes=Math.floor(remaining%3600/60),seconds=Math.floor(remaining%60),timer=document.getElementById("timer");timer&&(timer.className=remaining<1800?"alert alert-warning":remaining<300?"alert alert-danger":"alert alert-success",timer.innerHTML="Timer: "+hours.toString().padStart(2,"0")+":"+minutes.toString().padStart(2,"0")+":"+seconds.toString().padStart(2,"0"))}}),1e3)},countup:function(starttime){setInterval((function(){var running=Math.round((new Date).getTime()/1e3)-starttime,hours=Math.floor(running%86400/3600),minutes=Math.floor(running%3600/60),seconds=Math.floor(running%60),timer=document.getElementById("timer");timer&&(timer.className="alert alert-success",timer.innerHTML="Timer: "+hours.toString().padStart(2,"0")+":"+minutes.toString().padStart(2,"0")+":"+seconds.toString().padStart(2,"0"))}),1e3)}}}));

//# sourceMappingURL=clock.min.js.map